<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://www.unpkg.com/web3@1.3.6/dist/web3.min.js"></script>
<script src="https://cdn.ethers.io/lib/ethers-5.0.umd.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://unpkg.com/web3modal@1.9.0/dist/index.js"></script>
<script type="text/javascript" src="https://unpkg.com/evm-chains@0.2.0/dist/umd/index.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@walletconnect/web3-provider@1.5.0-rc.3/dist/umd/index.min.js"></script>
<style>

body{
  background:#2b2c31;
  font-family:Roboto;
}
	
.searchbarcontainer {
  min-width: 400px;
}

.toppartcontainer {
  display: flex;
  justify-content: space-between;
  max-width: 1364px;
  margin: auto;
}
.logosearch {
  width: 200px !important;
}

.maintitle,
.address {
  text-align: left !important;
}

tr.holderrow td {
  border-bottom: 1px solid #3e3e3e;
}

.addresslink {
  color: white;
  text-decoration: none;
  width: 35px;
}

.address,
.txcount,
.percentage,
.holderstitle {
  padding-bottom: 15px;
  padding-top: 15px;
  padding-left: 10px;
  padding-right: 10px;
  color: white;
  text-align: center;
}

.titles {
  font-size: larger;
  font-weight: bold;
}

.topholders {
  border-radius: 25px;
  width: 600px;
  padding: 25px;
  margin: 10px;
  box-shadow: 9.91px 9.91px 15px #27282d, -9.91px -9.91px 15px #2f3035,
    inset 9.91px 9.91px 15px #27282d00, inset -9.91px -9.91px 15px #2f303500;
  margin-top: 35px;
}

.holderstitle H2 {
  margin: 0px;
}

.holderscontainer {
  display: flex;
  flex-wrap: wrap;
  width: 1400px;
  margin: auto;
  justify-content: space-between;
}

#lpholders {
}

.maincontainerforthisthingy {
  max-width: 1365px;
  margin: auto;
  margin-top: 20px;
}

.searchbar {
  width: 100%;
  max-width: 420px;
  margin: auto;
  border-radius: 60px;
  padding: 5px;
  padding-left: 20px;
  height: 30px;
  box-shadow: inset 1.8px 1.8px 9px #161619, inset -1.8px -1.8px 9px #41424a;
  background: transparent;
  border: none;
  color: gray;
  margin-top: 2px;
}

.searcbar:focus-visible {
  border: none;
}

.searchbarbutton {
  height: 42px;
  width: 42px;
  margin: auto;
  padding: 0px;
  border-radius: 100%;
  border: 0px;
  margin-right: 10px;
  box-shadow: 6.61px 6.61px 9px #212125, -6.61px -6.61px 9px #35373d,
    inset 4.8px 4.8px 9px transparent, inset -4.8px -4.8px 9px transparent;
  background: linear-gradient(
    321deg,
    rgba(84, 232, 200, 1) 0%,
    rgba(35, 175, 145, 1) 100%
  ) !important;
  color: white;
  transition: all 500ms ease-in-out;
  font-weight: bold;
  margin-left: -2px;
}

.searchbarbutton:hover {
  box-shadow: 6.61px 6.61px 9px transparent, -6.61px -6.61px 9px transparent,
    inset 4.8px 4.8px 9px #197e68, inset -4.8px -4.8px 9px #2de0ba;
  transition: all 500ms ease-in-out;
  transform: scale(0.95);
}

.searchbarcontainer {
  width: 500px;
  margin-top: 25px;
  margin-bottom: 50px;
}
.logo {
  margin-top: auto;
  margin-bottom: auto;
}
.genericbutton {
  margin: 5px;
  margin-top: 30px;
  border-radius: 50px;
  border: none;
  padding: 10px;
  padding-left: 20px;
  padding-right: 20px;
  box-shadow: 6.61px 6.61px 9px #212125, -6.61px -6.61px 9px #35373d,
    inset 1.8px 1.8px 9px transparent, inset -1.8px -1.8px 9px transparent;
  background: transparent;
  color: white;
  transition: all 500ms ease;
}

.genericbutton:hover {
  box-shadow: 6.61px 6.61px 9px transparent, -6.61px -6.61px 9px transparent,
    inset 1.8px 1.8px 9px #161619, inset -1.8px -1.8px 9px #41424a;
  transform: scale(0.95);
  transition: all 500ms ease;
}

.quickinfosectioncontainer {
  width: 390px;
}

.quicklinkscontainer {
  display: flex;
  flex-wrap: wrap;
}

.tokeninfo {
  margin-top: 20px;
  color: white;
  font-weight: bold;
}

.tokenaddress {
  font-size: larger;
}

.tokensymbol {
  font-weight: normal !important;
  margin-top: 5px;
}

.lpanalysistablecontainer {
  display: Flex;
  flex-wrap: wrap;
  justify-content: space-evenly;
  align-items: center;
  width: 100%;
  margin: auto;
  margin-top: 0px;
}

.lpanalysis {
  margin: auto;
}

.lpanalysis,
.contractcode {
  border-radius: 25px;
  width: max-content;
  padding: 25px;
  margin: 10px;
  box-shadow: 9.91px 9.91px 15px #27282d, -9.91px -9.91px 15px #2f3035,
    inset 9.91px 9.91px 15px #27282d00, inset -9.91px -9.91px 15px #2f303500;
  margin-top: 35px;
}

.contractcode {
  height: 450px;
  width: 94%;
  margin-top: 30px;
}

.actualcode {
  color: white;
  overflow-y: scroll;
  max-height: 300px;
  word-wrap: break-word;
  border-radius: 25px;
  padding: 15px;
}

.noticeholderscontainer {
}

.noticeholders {
  border-radius: 50px;
  color: red!;
  font-weight: bold;
  color: white;
  padding: 5px;
}
.noticeexplanation {
  color: white;
  padding: 5px;
  padding-top: 20px;
  padding-bottom: 20px;
  max-width: 200px;
  height: 80px;
  vertical-align: top;
}

.noticecontract {
  color: red!;
  font-weight: bold;
  color: white;
  padding: 5px;
}

#honeypottest,
#lplocktime {
  filter: blur(3px);
  mouse-pointer-events: none;
}

</style>
<div class="toppartcontainer">

  <div class="searchbarcontainer">

    <script>

    </script>

    <style>
      .walletprofile {
        margin-top: 20px;
        margin-bottom: 20px;
        display: grid;
        grid-template-columns: max-content max-content max-content max-content;
        grid-gap: 20px;
        width: max-content;
        color: white;
        margin-right: auto;
      }

      .walletaddy {
        width: 205px;
        line-height: normal;
        margin-top: auto;
        margin-bottom: auto;
        word-wrap: anywhere;
      }

      #walleticon {
        display: block;
        content: "";
        height: 40px;
        width: 40px;
        border-radius: 100%;
        background: linear-gradient(111.2deg, rgba(232, 5, 5, 1) 1.7%, rgba(245, 49, 191, 1) 98.7%);
        box-shadow: 9.91px 9.91px 13px #1C1E21, -9.91px -9.91px 13px #2C2E33;
        border: none;
        margin-top: auto;
        margin-bottom: auto;
        transition: all 500ms ease-out 0s;
      }

      #walleticon::after {
        content: " ";
        display: block;
        height: 30px;
        background: url(https://i.imgur.com/4spNa2n.png);
        background-repeat: repeat;
        background-size: auto;
        background-repeat: repeat;
        background-size: auto;
        width: 30px;
        background-size: 30px;
        background-repeat: no-repeat;
        position: relative;
        left: 1px;
        top: -1px;
      }

      .walleticon2 {
        display: none !important;
        background: linear-gradient(to right, #74ebd5 0%, #9face6 100%) !important;
        transition: all 500ms ease-out 0s;
      }

      .connectbtn {
        border-radius: 81px;
        border: none;
        box-shadow: 9.91px 9.91px 13px #1c1e21, -9.91px -9.91px 13px #2c2e33;
        background: linear-gradient(280deg, #816142 0%, #fac693 100%) !important;
        width: 150px;
      }
	  
	  
	  #updateme > *{
	  border-collapse: unset!important;
	  }
    </style>

    <div class="walletprofile">
      <button id="walleticon" class="walleticon"></button>
      <button id="walleticon" class="walleticon2"></button>
      <div id="walletaddy" class="walletaddy">Connect to start</div>
    </div>

    <input type="button" id="searchbarbutton" class="searchbarbutton" value="Go" />
    <input type="text" id="searchbarinput" class="searchbar" placeholder="Enter contract address" />
  </div>
  <div class="logo"><img class="logosearch" src=""></img></div>
</div>
<script>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	//const wayscript = require('wayscript');

// Unpkg imports
const web3 = new Web3;
const Web3Modal = window.Web3Modal.default;
const WalletConnectProvider = window.WalletConnectProvider.default;
const ethers = window.ethers;

let ekcsbal;
let checkbalstill;

// Web3modal instance
let web3Modal;

//current acc
let currentaccount;

// Chosen wallet provider given by the dialog window
let provider;

// EKCS Contract
const KCScontractAddress = "0xea54f38fffe79d92e9b56abafbcdbb6a14edaf5c";
const KCScontractAbi = [
  { inputs: [], stateMutability: "nonpayable", type: "constructor" },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "owner",
        type: "address"
      },
      {
        indexed: true,
        internalType: "address",
        name: "spender",
        type: "address"
      },
      {
        indexed: false,
        internalType: "uint256",
        name: "value",
        type: "uint256"
      }
    ],
    name: "Approval",
    type: "event"
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        internalType: "uint256",
        name: "amount",
        type: "uint256"
      },
      {
        indexed: false,
        internalType: "address",
        name: "recipient",
        type: "address"
      }
    ],
    name: "OnWithdrawKCS",
    type: "event"
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "previousOwner",
        type: "address"
      },
      {
        indexed: true,
        internalType: "address",
        name: "newOwner",
        type: "address"
      }
    ],
    name: "OwnershipTransferred",
    type: "event"
  },
  {
    anonymous: false,
    inputs: [
      { indexed: true, internalType: "address", name: "from", type: "address" },
      { indexed: true, internalType: "address", name: "to", type: "address" },
      {
        indexed: false,
        internalType: "uint256",
        name: "value",
        type: "uint256"
      }
    ],
    name: "Transfer",
    type: "event"
  },
  { stateMutability: "payable", type: "fallback" },
  {
    inputs: [],
    name: "AddressResetSellLock",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "BalanceLimitDivider",
    outputs: [{ internalType: "uint8", name: "", type: "uint8" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "InitialSupply",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "KCSWithdraw",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "MaxSellLockTime",
    outputs: [{ internalType: "uint16", name: "", type: "uint16" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "MaxTax",
    outputs: [{ internalType: "uint8", name: "", type: "uint8" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "SellLimitDivider",
    outputs: [{ internalType: "uint16", name: "", type: "uint16" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address[]", name: "addressesToAdd", type: "address[]" }
    ],
    name: "SetupAddArrayToWhitelist",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "addressToAdd", type: "address" }
    ],
    name: "SetupAddToWhitelist",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "SetupEnableTrading",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "SetupEnableWhitelistTrading",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "liquidityTokenAddress",
        type: "address"
      }
    ],
    name: "SetupLiquidityTokenAddress",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "addressToRemove", type: "address" }
    ],
    name: "SetupRemoveFromWhitelist",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "uint8", name: "newShare", type: "uint8" }],
    name: "TeamChangeMarketingShare",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamCreateLPandKCS",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "bool", name: "disabled", type: "bool" }],
    name: "TeamDisableSellLock",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "account", type: "address" }],
    name: "TeamExcludeAccountFromFees",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "account", type: "address" }],
    name: "TeamExcludeAccountFromSellLock",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "addr", type: "address" }],
    name: "TeamExcludeFromStaking",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "account", type: "address" }],
    name: "TeamIncludeAccountToFees",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "account", type: "address" }],
    name: "TeamIncludeAccountToSellLock",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "addr", type: "address" }],
    name: "TeamIncludeToStaking",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamReleaseLiquidity",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "bool", name: "addToStaking", type: "bool" }],
    name: "TeamRemoveLiquidity",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamRemoveRemainingKCS",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "uint256", name: "sellLockSeconds", type: "uint256" }
    ],
    name: "TeamSetSellLockTime",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "uint8", name: "burnTaxes", type: "uint8" },
      { internalType: "uint8", name: "liquidityTaxes", type: "uint8" },
      { internalType: "uint8", name: "stakingTaxes", type: "uint8" },
      { internalType: "uint8", name: "buyTax", type: "uint8" },
      { internalType: "uint8", name: "sellTax", type: "uint8" },
      { internalType: "uint8", name: "transferTax", type: "uint8" }
    ],
    name: "TeamSetTaxes",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "bool", name: "manual", type: "bool" }],
    name: "TeamSwitchManualKCSConversion",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "uint256", name: "secondsUntilUnlock", type: "uint256" }
    ],
    name: "TeamUnlockLiquidityInSeconds",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "uint256", name: "newBalanceLimit", type: "uint256" },
      { internalType: "uint256", name: "newSellLimit", type: "uint256" }
    ],
    name: "TeamUpdateLimits",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet1",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet2",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet3",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet4",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet5",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet6",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet7",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWallet8",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [{ internalType: "uint256", name: "amount", type: "uint256" }],
    name: "TeamWithdrawMarketingKCS",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamWithdrawMarketingKCS",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "TeamlimitLiquidityReleaseTo20Percent",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "WhiteListBalanceLimitDivider",
    outputs: [{ internalType: "uint16", name: "", type: "uint16" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "_getTotalShares",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "_owner", type: "address" },
      { internalType: "address", name: "spender", type: "address" }
    ],
    name: "allowance",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "spender", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" }
    ],
    name: "approve",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "balanceLimit",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "account", type: "address" }],
    name: "balanceOf",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "decimals",
    outputs: [{ internalType: "uint8", name: "", type: "uint8" }],
    stateMutability: "pure",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "spender", type: "address" },
      { internalType: "uint256", name: "subtractedValue", type: "uint256" }
    ],
    name: "decreaseAllowance",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "AddressToCheck", type: "address" }
    ],
    name: "getAddressSellLockTimeInSeconds",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "getBurnedTokens",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "addr", type: "address" }],
    name: "getDividents",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "getLimits",
    outputs: [
      { internalType: "uint256", name: "balance", type: "uint256" },
      { internalType: "uint256", name: "sell", type: "uint256" }
    ],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "getLiquidityReleaseTimeInSeconds",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "getOwner",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "getSellLockTimeInSeconds",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "getTaxes",
    outputs: [
      { internalType: "uint256", name: "burnTax", type: "uint256" },
      { internalType: "uint256", name: "liquidityTax", type: "uint256" },
      { internalType: "uint256", name: "marketingTax", type: "uint256" },
      { internalType: "uint256", name: "buyTax", type: "uint256" },
      { internalType: "uint256", name: "sellTax", type: "uint256" },
      { internalType: "uint256", name: "transferTax", type: "uint256" }
    ],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "AddressToCheck", type: "address" }
    ],
    name: "getWhitelistedStatus",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "spender", type: "address" },
      { internalType: "uint256", name: "addedValue", type: "uint256" }
    ],
    name: "increaseAllowance",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "addr", type: "address" }],
    name: "isExcludedFromStaking",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "liquidityRelease20Percent",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "manualConversion",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "marketingBalance",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "marketingShare",
    outputs: [{ internalType: "uint8", name: "", type: "uint8" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "name",
    outputs: [{ internalType: "string", name: "", type: "string" }],
    stateMutability: "pure",
    type: "function"
  },
  {
    inputs: [],
    name: "owner",
    outputs: [{ internalType: "address", name: "", type: "address" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "profitPerShare",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "renounceOwnership",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "sellLimit",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "sellLockDisabled",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "sellLockTime",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "symbol",
    outputs: [{ internalType: "string", name: "", type: "string" }],
    stateMutability: "pure",
    type: "function"
  },
  {
    inputs: [],
    name: "totalLPKCS",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "totalPayouts",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "totalStakingReward",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "totalSupply",
    outputs: [{ internalType: "uint256", name: "", type: "uint256" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [],
    name: "tradingEnabled",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "recipient", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" }
    ],
    name: "transfer",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [
      { internalType: "address", name: "sender", type: "address" },
      { internalType: "address", name: "recipient", type: "address" },
      { internalType: "uint256", name: "amount", type: "uint256" }
    ],
    name: "transferFrom",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [{ internalType: "address", name: "newOwner", type: "address" }],
    name: "transferOwnership",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function"
  },
  {
    inputs: [],
    name: "whiteListTrading",
    outputs: [{ internalType: "bool", name: "", type: "bool" }],
    stateMutability: "view",
    type: "function"
  },
  { stateMutability: "payable", type: "receive" }
];

// Getting infuraID
function getInfuraId() {
  const provider = new ethers.providers.InfuraProvider();
  return provider.apiKey;
}

//Initialise
function init() {
  console.log("Starting...");
  console.log("WalletConnectProvider is", WalletConnectProvider);
  console.log(
    "window.ethers is",
    ethers,
    "window.ethereum is",
    window.ethereum
  );

  //Wallet support
  const providerOptions = {
    walletconnect: {
      package: WalletConnectProvider,
      options: {
        infuraId: getInfuraId()
      }
    }
  };

  web3Modal = new Web3Modal({
    cacheProvider: false, // o
    providerOptions, // r
    disableInjectedProvider: false // o
  });

  console.log("Web3Modal instance is", web3Modal);
}

//UI Changes
async function fetchAccountData() {
  const wallet = new ethers.providers.Web3Provider(provider);
  // Get addy of the connected wallet
  const signer = wallet.getSigner();
  const selectedAccount = await signer.getAddress();
  currentaccount = await signer.getAddress();
  document.querySelector("#walletaddy").textContent = selectedAccount;
  // Display fully loaded UI for wallet data
  document
    .querySelector(".walleticon2")
    .setAttribute("style", "display:block !important");
  document.querySelector(".walleticon").style.display = "none";
  //const setcolor = document.getElementById('walleticon');
  //var css = {
  //    backgroundColor: '#ffcfdf',
  //    backgroundImage: 'linear-gradient(315deg, #ffcfdf 0%, #b0f3f1 74%)',
  //    transition: 'all 250ms'
  //};
  //Object.assign(setcolor.style, css);
}

/**
 * Fetch account data for UI when
 * - User switches accounts in wallet
 * - User switches networks in wallet
 * - User connects wallet initially
 */
async function refreshAccountData() {
  // If any current data is displayed when
  // the user is switching acounts in the wallet
  // immediately hide this data

  // hide the createToken result on page refresh, only displays the result
  // when result is returned from the contract

  // Disable button while UI is loading.
  // fetchAccountData() will take a while as it communicates
  // with Ethereum node via JSON-RPC and loads chain data
  // over an API call.
  await fetchAccountData();
  document.querySelector("#walleticon").setAttribute("disabled", "disabled");

  document.querySelector("#walleticon").removeAttribute("disabled");
}

//Connect Wallet button
async function onConnect() {
  console.log("Opening a dialog", web3Modal);
  try {
    provider = await web3Modal.connect();
  } catch (e) {
    console.log("Could not get a wallet connection", e);
    return;
  }

  // Subscribe to accounts change
  provider.on("accountsChanged", (accounts) => {
    fetchAccountData();
  });

  // Subscribe to chainId change
  provider.on("chainChanged", (chainId) => {
    fetchAccountData();
  });

  await refreshAccountData();
}

//disconnect button
async function onDisconnect() {
  console.log("Killing the wallet connection", provider);

  // Which providers have close method?
  if (provider.close) {
    await provider.close();

    // If the cached provider is not cleared,
    // WalletConnect will default to the existing session
    // and does not allow to re-scan the QR code with a new wallet.
    // Depending on your use case you may want or want not his behavir.
    await web3Modal.clearCachedProvider();
    provider = null;
  }

  // Set the UI back to the initial state
  //document.querySelector("#btn-connect").style.display = "block";
  document.querySelector("#walletaddy").textContent = "Connect to start";
  document.querySelector(".walleticon2").style.display = "none";
  document
    .querySelector(".walleticon")
    .setAttribute("style", "display:block !important");
}

//button even listereners
window.addEventListener("load", async () => {
  init();
  document.querySelector(".walleticon").addEventListener("click", onConnect);
  document.querySelector(".walleticon").addEventListener("click", updatestuff);
  document
    .querySelector(".walleticon2")
    .addEventListener("click", onDisconnect);
});

async function checkbal() {
  ekcsbal =
    (await window.contractKCS.methods.balanceOf(currentaccount).call()) /
    1000000000;
  if (checkbalstill != "dont") {
    document.getElementById("yourbal").innerHTML =
      "Your balance is " + numberWithCommas(ekcsbal) + " EearnKCS";
  }
}

//Load contract
async function loadContractKCS() {
  const wweb3 = new Web3(provider);
  const MyContract = new wweb3.eth.Contract(KCScontractAbi, KCScontractAddress);
  return MyContract;
}

function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

async function updatestuff() {
  window.contractKCS = await loadContractKCS();
  checkbal();
  setTimeout(updatestuff, 5000);
}

function fadeOutEffect() {
  //console.clear();
  var fadeTarget = document.getElementById("updateme");
  var fadeEffect = setInterval(function () {
    if (!fadeTarget.style.opacity) {
      fadeTarget.style.opacity = 1;
    }
    if (fadeTarget.style.opacity > 0) {
      fadeTarget.style.opacity -= 0.1;
    } else {
      clearInterval(fadeEffect);
      fadeTarget.style.opacity = 1;
      $("#updateme").html(htmltemplate);
      //console.clear();
    }
  }, 200);
}
function isHex(num) {
  return Boolean(num.match(/^0x[0-9a-f]+$/i));
}

var re = /[0-9A-Fa-f]{6}/g;

var htmltemplatedfailed = `
<div id="updateme" class="updateme">
	
      <style>
      
        #updateme{
          height:2087px;
                    transition: all 500ms ease;
          opacity:0.9;
        }
        
        .placeholdermessage{
          color:white;
           margin:auto;
          width:max-content;
          font-weight:normal!important;
          margin-top:15px;
          transition: all 500ms ease;
        }
        
        #maintitleofplaceholder{
          margin-bottom:50px;
          font-weight:bold!important;
          transition: all 500ms ease;
        }
        
        .textholderupdateme{
          height:max-content;
          margin-top:200px;
                    transition: all 500ms ease;
        }
  </style> 
  <div class="textholderupdateme">
  <h1 id="maintitleofplaceholder" class="placeholdermessage">Request failed</h1>
  <h1 class="placeholdermessage">Try again</h1>  </div>						

`;

var htmltemplate = `

<div id="updateme" class="updateme">
  <style>
  
.address a, .txcount a, .percentage a, .actualcode, .tokenaddress a, .tokensymbol a, .genericbutton a, .noticeholders a, .noticecontract a{
  background: #000000;
background: linear-gradient(293deg, #27282d 0%, #27282d 25%, #34353b 50%, #27282d 75%, #27282d 100%);
  color:transparent;
  background-size:1500px;
  border-radius:25px;
    animation-name: loading;
  animation-duration: 1s;
  animation-iteration-count: infinite;
}
.actualcode{
  height:300px;
}

@keyframes loading {
  0%   {background-position-x:0px;}
  100% {background-position-x:1500px;}

}
    


.topholders, .lpanalysis, .contractcode{
    transition: all 500ms ease;
  }




.updateme > *{
  transition: all 500ms ease;
          animation-name: fadein;
  animation-duration: 5s;
  animation-iteration-count: 1;
}

@keyframes riseup {
  0%   {    box-shadow:9.91px 9.91px 15px transparent, -9.91px -9.91px 15px transparent, inset 9.91px 9.91px 15px transparent, inset -9.91px -9.91px 15px transparent; transform:scale(0.9);}
  100% {  box-shadow:9.91px 9.91px 15px #27282D, -9.91px -9.91px 15px #2F3035, inset 9.91px 9.91px 15px transparent, inset -9.91px -9.91px 15px transparent!important; transform:scale(1);}
}

@keyframes fadein {
  0% {opacity: 0; transform:scale(0.98)}
  100%{opacity: 1; transform:scale(1)}
}


    
  </style>
	<div class="maincontainerforthisthingy">
		<div class="quickinfosectioncontainer" >
			<div class="tokeninfo">
				<div class="tokenaddress" style="margin-bottom:15px;">Loading (may take upto 1 min)</div>
        <div class="tokenaddress"><a>Symbol</a></div>
				<div class="tokensymbol"><a>0x0000000000000000000000000000000000000000</a></div>
			</div>
			<div class="quicklinkscontainer">
        <button class="genericbutton"><a>Contract</a></button>
				<button class="genericbutton"><a>Liquidty</a></button>
				<button class="genericbutton"><a>Koffeeswap</a></button>
			</div>
		</div>
		<div class="holderscontainer">
			<div class="topholders">
				<table class="topholderstable">
					<tbody>
						<tr class="maintitle">
							<td id="" class="holderstitle" colspan="3">
								<h4>Top 5 Holders</h4>
							</td>
						</tr>
						<tr class="noticeholderscontainer">
							<td id="" class="noticeholders"><a>Top 5 holders appear to own 5% of supply</a></td>
						</tr>
						<tr class="noticeholderscontainer">
							<td id="" class="noticeholders"><a>Dev owns 1% of supply</a></td>
						</tr>
						<tr class="noticecexplanationcontainer">
							<td id="" class="noticeexplanation">The more top holders own, the more susceptible the coin is to price manipulation. If the dev wallet(s) owns a large portion of the supply, then there is a risk of coin dumping.</td>
						</tr>
						<tr class="titles">
							<td id="" class="address">Address</td>
							<td id="" class="txcount">TX count</td>
							<td id="" class="percentage">Holdings %</td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
              <td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="toplpholders"></div>
			<div id="lpholders" class="topholders">
				<table class="topholderstable">
					<tbody>
						<tr class="maintitle">
							<td id="" class="holderstitle" colspan="3">
								<h4>Top 5 LP Holders</h4>
							</td>
						</tr>
						<tr class="noticeholderscontainer">
							<td id="" class="noticeholders"><a>still didnt figure out how to prevent you from highlighting placeholder text</a></td>
						</tr>
						<tr class="noticeholderscontainer">
							<td id="" class="noticeholders"><a>Dev owns x% of supply</a></td>
						</tr>
						<tr class="noticecexplanationcontainer">
							<td id="" class="noticeexplanation">The more coins that are owned by dev/creator/large wallet, the higher the risk of a rug pull happening.</td>
						</tr>
						<tr class="titles">
							<td id="" class="address">Address</td>
							<td id="" class="txcount">TX count</td>
							<td id="" class="percentage">Holdings %</td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
						<tr class="holderrow">
							<td id="" class="address">
								<a class="addresslink" 
                  >0x0000000000000000000000000000000000000000
                </a>
							</td>
							<td id="" class="txcount"><a>000</a></td>
							<td id="" class="percentage"><a>0.00%</a></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="toplpholders"></div>
		</div>
		<div class="lpanalysistablecontainer">
			<table class="lpanalysis">
				<tbody>
					<tr class="maintitle">
						<td id="" class="holderstitle" colspan="3">
							<h4>Contract Analysis</h4>
						</td>
					</tr>
					<tr class="noticeholderscontainer">
						<td id="" class="noticecontract" colspan="3"><a>Ownership is not renounced</a></td>
					</tr>
					<tr class="noticecexplanationcontainer" colspan="3">
						<td id="" class="noticeexplanation" colspan="3">Some developers do not renounce the ownership for a good reason (they may want to continue developing the contract code). If it's a meme token, then renouncing ownership may be a good idea. Scammers may look to execute malicious functions if still in control of the contract.</td>
					</tr>
					<tr class="holderrow">
						<td id="" class="txcount" style="text-align:left;">Owner</td>
						<td id="" class="address">
							<a class="addresslink" 
                >0x0000000000000000000000000000000000000000
              </a>
						</td>
					</tr>
					<tr class="holderrow">
						<td id="" class="txcount">Creator</td>
						<td id="" class="address">
							<a class="addresslink" 
                >0x0000000000000000000000000000000000000000
              </a>
						</td>
					</tr>
				</tbody>
			</table>
			<table class="lpanalysis">
				<tbody>
					<tr class="maintitle">
						<td id="" class="holderstitle" colspan="3">
							<h4>LP Analysis</h4>
						</td>
					</tr>
					<tr class="noticeholderscontainer">
            <td id="" class="noticecontract" colspan="3"><a>Dev owns 5% of tokens</a></td>
					</tr>
					<tr class="noticecexplanationcontainer" colspan="3">
						<td id="" class="noticeexplanation" colspan="3">If dev owns too many tokens, then there is a risk of a rug pull.</td>
					</tr>
					<tr class="holderrow">
						<td id="" class="txcount" style="text-align:left;">
              Creator tokens
            </td>
            <td id="" class="address"><a>1258712985</a></td>
					</tr>
					<tr class="holderrow">
						<td id="" class="txcount" style="text-align:left;">
              As a precentage
            </td>
						<td id="" class="address"><a>1258712985M</a></td>
					</tr>
				</tbody>
			</table>
			<table id="honeypottest"  class="lpanalysis">
				<tbody>
					<tr class="maintitle">
						<td id="" class="holderstitle" colspan="3">
							<h4>Honeypot Test</h4>
						</td>
					</tr>
					<tr class="noticeholderscontainer">
						<td id="" class="noticecontract" colspan="3"><a>Does not appear to be one</a></td>
					</tr>
					<tr class="noticecexplanationcontainer" colspan="3">
						<td id="" class="noticeexplanation" colspan="3">I see you've tried to sneak yourself a preview.
Stay tuned and make sure to hodl your EarnKCS to support the team in developing our gem hunting tools, big thanks!</td>
					</tr>
					<tr class="holderrow">
						<td id="" class="txcount" style="text-align:left;">
              Honeypot
            </td>
            <td id="" class="address"><a>No</a></td>
					</tr>
				</tbody>
			</table>
      <table id="honeypottest"  class="lpanalysis">
				<tbody>
					<tr class="maintitle">
						<td id="" class="holderstitle" colspan="3">
							<h4>LP lock</h4>
						</td>
					</tr>
					<tr class="noticeholderscontainer">
            <td id="" class="noticecontract" colspan="3"><a>Coming soon!</a></td>
					</tr>
					<tr class="noticecexplanationcontainer" colspan="3">
						<td id="" class="noticeexplanation" colspan="3">Usually, a short LP lock time indicates that liquidity can be rug pulled.</td>
					</tr>
					<tr class="holderrow">
						<td id="" class="txcount" style="text-align:left;">
              LP lock
            </td>
            <td id="" class="address"><a>00:00:00</a></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="contractcode">
      <div id="" class="holderstitle"><h4>Contract Code</h4></div>
			<pre class="actualcode">

											</pre>
										</div>
									</div>
								</div>

`;

document.getElementById("searchbarbutton").onclick = function () {
fetch('https://ruggle.herokuapp.com/0xEa54F38fFFE79D92e9b56abafbCdbb6A14EDaf5C')
      .then(function (response) {
          return response.text();
      }).then(function (text) {
          console.log('GET response text:');
          console.log(text); 
      });
}

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</script>
<div id="updateme" class="updateme">

  <style>
    #updateme {
      height: 2087px;
      transition: all 500ms ease;
      opacity: 0.9;
    }

    .placeholdermessage {
      color: white;
      margin: auto;
      width: max-content;
      font-weight: normal !important;
      margin-top: 15px;
      transition: all 500ms ease;
    }

    #maintitleofplaceholder {
      margin-bottom: 50px;
      font-weight: bold !important;
      transition: all 500ms ease;
    }

    .textholderupdateme {
      height: max-content;
      margin-top: 200px;
      transition: all 500ms ease;
    }

    #yourbal {
      margin-top: 35px !important;
      font-weight: bold !important;
      color: transparent;
      background: linear-gradient(321deg, #54e8c8 0%, #23af91 100%) !important;
      background-clip: border-box;
      -webkit-background-clip: text !important;
    }
  </style>
  <div class="textholderupdateme">
    <H2 id="maintitleofplaceholder" class="placeholdermessage">How to scan tokens:</H2>
    <h4 class="placeholdermessage">1. Connect your wallet. You must hold at least 100,000 EarnKCS tokens</h4>

    <h4 class="placeholdermessage">2. Enter contract address and press Go to start</h4>
    <h3 id="yourbal" class="placeholdermessage">Your balance is -,-- EearnKCS</h3>
  </div>
  
</div>
